{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<p>Browse threads, join discussions, or start your own thread!</p>
<form action="{{ url_for('threads.search') }}" method="get">
    <input type="text" name="query" placeholder="Search threads...">
    <button type="submit">Search</button>
</form>
<p>To participate in discussions, create your own threads, or view existing threads, please register or login.</p>
<div>
    <h2>Recent Discussion Threads</h2>
    {% if threads %}
        <ul>
            {% for thread in threads %}
                <li>
                    <a href="{{ url_for('threads.show_thread', thread_id=thread.id) }}">{{ thread.title }}</a>
                    <p>Posted by {{ thread.username }} on {{ thread.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No threads to display. Start a new discussion!</p>
    {% endif %}
</div>
{% endblock %}
